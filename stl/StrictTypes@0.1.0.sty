{-
  Id: ACBoDKVqDSuPrZLs2W2bLVj2TnpThzUMcJJrC3GhsQ79#idea-judo-benny
  Name: StrictTypes
  Version: 0.1.0
  Description: Confined generalized algebraic data types (GADT)
  Author: Dr Maxim Orlovsky <orlovsky@ubideco.org>
  Copyright (C) 2023-2024 UBIDECO Institute. All rights reserved.
  License: Apache-2.0
-}

@context
typelib StrictTypes

import Std#EcCNgrgLaygt3tCZNu2ZVEzMzSAZYEUeTNAVi5E81YWi
  use AlphaLodash#hope-clark-buffalo
  use AlphaCapsLodash#winter-vampire-energy
  use AlphaSmallLodash#plastic-snake-modular


@mnemonic(silence-tommy-direct)
data Dependency        : id TypeLibId, name LibName

@mnemonic(karate-sister-aztec)
data EnumVariants      : {Variant ^ 1..0xff}

@mnemonic(ritual-soprano-scholar)
data ExternRef         : libId TypeLibId, semId SemId

@mnemonic(phoenix-poker-amanda)
data FieldInlineRef    : name FieldName, ty InlineRef

@mnemonic(pedro-cement-crown)
data FieldInlineRef1   : name FieldName, ty InlineRef1

@mnemonic(serpent-natasha-freddie)
data FieldInlineRef2   : name FieldName, ty InlineRef2

@mnemonic(stone-horizon-protect)
data FieldLibRef       : name FieldName, ty LibRef

@mnemonic(toyota-plasma-austria)
data FieldName         : [Std.AlphaSmallLodash#urn:ubideco:semid:F5nChHjhEz5Vf1RmdxicsgnPGDj3AA4juyGZii5tuYTF#plastic-snake-modular ^ 1..0x64]

@mnemonic(storm-vega-pegasus)
data FieldSemId        : name FieldName, ty SemId

@mnemonic(icon-salon-aladdin)
data Ident             : [Std.AlphaLodash#urn:ubideco:semid:9pnzMNSD2NTa7KrcrxHDMtBNXmDYmc1VqhPBMDeSFGJa#hope-clark-buffalo ^ 1..0x64]

@mnemonic(magnet-llama-drum)
data InlineRef         : inline TyInlineRef1
                       | named SemId
                       | extern ExternRef

@mnemonic(ramirez-break-ribbon)
data InlineRef1        : inline TyInlineRef2
                       | named SemId
                       | extern ExternRef

@mnemonic(gong-tunnel-lexicon)
data InlineRef2        : named SemId
                       | extern ExternRef

@mnemonic(harlem-cartel-waiter)
data ItemCase          : unnamedField U8
                       | namedField (U8, FieldName)
                       | unionVariant (U8, VariantName)
                       | arrayItem#16 ()
                       | listItem ()
                       | setItem ()
                       | mapKey ()
                       | mapValue ()

@mnemonic(fidel-perfume-strange)
data LibName           : [Std.AlphaCapsLodash#urn:ubideco:semid:DVAijcXfyo8DiiBiNApv2qHBziFdECg4J9p6RG9CrD4z#winter-vampire-energy ^ 1..0x64]

@mnemonic(focus-vitamin-plate)
data LibRef            : inline TyInlineRef
                       | named SemId
                       | extern ExternRef

@mnemonic(forward-rose-value)
data MemoryLayout      : items [TypeInfo ^ ..0xffffffff]

@mnemonic(arthur-shelter-bermuda)
data NamedFieldsInlineRef : [FieldInlineRef ^ 1..0xff]

@mnemonic(zebra-stone-river)
data NamedFieldsInlineRef1 : [FieldInlineRef1 ^ 1..0xff]

@mnemonic(java-paper-maze)
data NamedFieldsInlineRef2 : [FieldInlineRef2 ^ 1..0xff]

@mnemonic(silicon-average-gong)
data NamedFieldsLibRef : [FieldLibRef ^ 1..0xff]

@mnemonic(local-english-sonata)
data NamedFieldsSemId  : [FieldSemId ^ 1..0xff]

@mnemonic(lazarus-aladdin-salsa)
data NestedCase        : newType TypeFqn?
                       | option ()
                       | byteStr#16 ()
                       | asciiStr TypeFqn?
                       | uniStr ()

@mnemonic(hobby-cable-puzzle)
data Primitive         : U8

@mnemonic(cargo-plasma-catalog)
data SemId             : [Byte ^ 32]

@mnemonic(canoe-gordon-amazon)
data Sizing            : min U64, max U64

@mnemonic(pocket-oxford-monster)
data SymbolRef         : libName LibName
                       , tyName TypeName
                       , libId TypeLibId
                       , semId SemId

@mnemonic(diagram-crimson-blast)
data SymbolicSys       : symbols Symbols, types TypeSystem

@mnemonic(shock-castle-robin)
data Symbols           : libs {Dependency}, symbols {TypeSymbol ^ ..0xffffff}

@mnemonic(absent-logo-genius)
data TyInlineRef       : primitive Primitive
                       | unicode ()
                       | enum#3 EnumVariants
                       | union UnionVariantsInlineRef
                       | tuple UnnamedFieldsInlineRef
                       | struct NamedFieldsInlineRef
                       | array (InlineRef, U16)
                       | list (InlineRef, Sizing)
                       | set (InlineRef, Sizing)
                       | map (InlineRef, InlineRef, Sizing)

@mnemonic(taxi-rhino-secret)
data TyInlineRef1      : primitive Primitive
                       | unicode ()
                       | enum#3 EnumVariants
                       | union UnionVariantsInlineRef1
                       | tuple UnnamedFieldsInlineRef1
                       | struct NamedFieldsInlineRef1
                       | array (InlineRef1, U16)
                       | list (InlineRef1, Sizing)
                       | set (InlineRef1, Sizing)
                       | map (InlineRef1, InlineRef1, Sizing)

@mnemonic(pacific-dolby-result)
data TyInlineRef2      : primitive Primitive
                       | unicode ()
                       | enum#3 EnumVariants
                       | union UnionVariantsInlineRef2
                       | tuple UnnamedFieldsInlineRef2
                       | struct NamedFieldsInlineRef2
                       | array (InlineRef2, U16)
                       | list (InlineRef2, Sizing)
                       | set (InlineRef2, Sizing)
                       | map (InlineRef2, InlineRef2, Sizing)

@mnemonic(russian-sweden-period)
data TyLibRef          : primitive Primitive
                       | unicode ()
                       | enum#3 EnumVariants
                       | union UnionVariantsLibRef
                       | tuple UnnamedFieldsLibRef
                       | struct NamedFieldsLibRef
                       | array (LibRef, U16)
                       | list (LibRef, Sizing)
                       | set (LibRef, Sizing)
                       | map (LibRef, LibRef, Sizing)

@mnemonic(solo-canal-flower)
data TySemId           : primitive Primitive
                       | unicode ()
                       | enum#3 EnumVariants
                       | union UnionVariantsSemId
                       | tuple UnnamedFieldsSemId
                       | struct NamedFieldsSemId
                       | array (SemId, U16)
                       | list (SemId, Sizing)
                       | set (SemId, Sizing)
                       | map (SemId, SemId, Sizing)

@mnemonic(salary-apollo-chicago)
data TypeFqn           : lib LibName, name TypeName

@mnemonic(texas-store-james)
data TypeInfo          : depth U32
                       , ty TySemId
                       , fqn TypeFqn?
                       , item ItemCase?
                       , nested [NestedCase ^ ..0xff]

@mnemonic(gallery-coral-actor)
data TypeLib           : name LibName
                       , dependencies {Dependency ^ ..0xff}
                       , externTypes {LibName -> ^ ..0xff {SemId -> TypeName}}
                       , types {TypeName -> ^ 1.. TyLibRef}

@mnemonic(jessica-snake-ceramic)
data TypeLibId         : [Byte ^ 32]

@mnemonic(gray-bonanza-kilo)
data TypeName          : [Std.AlphaCapsLodash#urn:ubideco:semid:DVAijcXfyo8DiiBiNApv2qHBziFdECg4J9p6RG9CrD4z#winter-vampire-energy ^ 1..0x64]

@mnemonic(match-alaska-fragile)
data TypeSymbol        : id SemId, fqn TypeFqn?

@mnemonic(clara-tonight-office)
data TypeSysId         : [Byte ^ 32]

@mnemonic(system-marco-torpedo)
data TypeSystem        : {SemId -> ^ ..0xffffff TySemId}

@mnemonic(sonar-voodoo-change)
data UnionVariantsInlineRef : {U8 -> ^ ..0xff VariantInfoInlineRef}

@mnemonic(japan-hope-monster)
data UnionVariantsInlineRef1 : {U8 -> ^ ..0xff VariantInfoInlineRef1}

@mnemonic(stage-secret-bonus)
data UnionVariantsInlineRef2 : {U8 -> ^ ..0xff VariantInfoInlineRef2}

@mnemonic(violet-mailbox-kimono)
data UnionVariantsLibRef : {U8 -> ^ ..0xff VariantInfoLibRef}

@mnemonic(sponsor-lotus-pretend)
data UnionVariantsSemId : {U8 -> ^ ..0xff VariantInfoSemId}

@mnemonic(silk-mega-loyal)
data UnnamedFieldsInlineRef : [InlineRef ^ 1..0xff]

@mnemonic(rabbit-burma-geneva)
data UnnamedFieldsInlineRef1 : [InlineRef1 ^ 1..0xff]

@mnemonic(fashion-april-special)
data UnnamedFieldsInlineRef2 : [InlineRef2 ^ 1..0xff]

@mnemonic(poetic-century-ozone)
data UnnamedFieldsLibRef : [LibRef ^ 1..0xff]

@mnemonic(signal-satire-russian)
data UnnamedFieldsSemId : [SemId ^ 1..0xff]

@mnemonic(igor-lorenzo-catalog)
data Variant           : name VariantName, tag U8

@mnemonic(samuel-food-campus)
data VariantInfoInlineRef : name VariantName, ty InlineRef

@mnemonic(felix-mary-tempo)
data VariantInfoInlineRef1 : name VariantName, ty InlineRef1

@mnemonic(pocket-hunter-corona)
data VariantInfoInlineRef2 : name VariantName, ty InlineRef2

@mnemonic(memphis-left-arena)
data VariantInfoLibRef : name VariantName, ty LibRef

@mnemonic(shadow-pilgrim-seminar)
data VariantInfoSemId  : name VariantName, ty SemId

@mnemonic(fiesta-center-yoga)
data VariantName       : [Std.AlphaSmallLodash#urn:ubideco:semid:F5nChHjhEz5Vf1RmdxicsgnPGDj3AA4juyGZii5tuYTF#plastic-snake-modular ^ 1..0x64]


