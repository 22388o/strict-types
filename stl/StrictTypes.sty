{-
  Id: dolby_garbo_pancake_2e2g6HmDjvjW5ZNJPRYAkpMw9HGmJEzPVmj72U7hvwUz
  Name: StrictTypes
  Description: Confined generalized algebraic data types (GADT)
  Author: Dr Maxim Orlovsky <orlovsky@ubideco.org>
  Copyright (C) 2023 UBIDECO Institute. All rights reserved.
  License: Apache-2.0
-}

typelib StrictTypes -- dolby_garbo_pancake_2e2g6HmDjvjW5ZNJPRYAkpMw9HGmJEzPVmj72U7hvwUz

-- no dependencies

data Dependency       :: id TypeLibId, name LibName
data EmbeddedRef      :: semId SemId
                       | inline TySemId
data EnumVariants     :: {Variant ^ 1..0xff}
data ExternRef        :: name TypeName
                       , lib LibName
                       , id SemId
data FieldEmbeddedRef :: name FieldName, ty EmbeddedRef
data FieldInlineRef   :: name FieldName, ty InlineRef
data FieldInlineRef1  :: name FieldName, ty InlineRef1
data FieldInlineRef2  :: name FieldName, ty InlineRef2
data FieldKeyTy       :: name FieldName, ty KeyTy
data FieldLibRef      :: name FieldName, ty LibRef
data FieldName        :: Ident
data FieldSemId       :: name FieldName, ty SemId
data Ident            :: U8
data InlineRef        :: inline TyInlineRef1
                       | named (TypeName, SemId)
                       | extern ExternRef
data InlineRef1       :: inline TyInlineRef2
                       | named (TypeName, SemId)
                       | extern ExternRef
data InlineRef2       :: inline TyKeyTy
                       | named (TypeName, SemId)
                       | extern ExternRef
data KeyTy            :: primitive Primitive
                       | enum:3 EnumVariants
                       | array:7 U16
                       | unicode:16 Sizing
                       | ascii Sizing
                       | bytes Sizing
data LibName          :: Ident
data LibRef           :: inline TyInlineRef
                       | named (TypeName, SemId)
                       | extern ExternRef
data NamedFieldsEmbeddedRef :: [FieldEmbeddedRef ^ 1..0xff]
data NamedFieldsInlineRef :: [FieldInlineRef ^ 1..0xff]
data NamedFieldsInlineRef1 :: [FieldInlineRef1 ^ 1..0xff]
data NamedFieldsInlineRef2 :: [FieldInlineRef2 ^ 1..0xff]
data NamedFieldsKeyTy :: [FieldKeyTy ^ 1..0xff]
data NamedFieldsLibRef :: [FieldLibRef ^ 1..0xff]
data NamedFieldsSemId :: [FieldSemId ^ 1..0xff]
data Primitive        :: U8
data SemId            :: [U8 ^ 32]
data Sizing           :: min U64, max U64
data TyEmbeddedRef    :: primitive Primitive
                       | unicode ()
                       | enum:3 EnumVariants
                       | union UnionVariantsEmbeddedRef
                       | tuple UnnamedFieldsEmbeddedRef
                       | struct NamedFieldsEmbeddedRef
                       | array (EmbeddedRef, U16)
                       | list (EmbeddedRef, Sizing)
                       | set (EmbeddedRef, Sizing)
                       | map (KeyTy, EmbeddedRef, Sizing)
data TyInlineRef      :: primitive Primitive
                       | unicode ()
                       | enum:3 EnumVariants
                       | union UnionVariantsInlineRef
                       | tuple UnnamedFieldsInlineRef
                       | struct NamedFieldsInlineRef
                       | array (InlineRef, U16)
                       | list (InlineRef, Sizing)
                       | set (InlineRef, Sizing)
                       | map (KeyTy, InlineRef, Sizing)
data TyInlineRef1     :: primitive Primitive
                       | unicode ()
                       | enum:3 EnumVariants
                       | union UnionVariantsInlineRef1
                       | tuple UnnamedFieldsInlineRef1
                       | struct NamedFieldsInlineRef1
                       | array (InlineRef1, U16)
                       | list (InlineRef1, Sizing)
                       | set (InlineRef1, Sizing)
                       | map (KeyTy, InlineRef1, Sizing)
data TyInlineRef2     :: primitive Primitive
                       | unicode ()
                       | enum:3 EnumVariants
                       | union UnionVariantsInlineRef2
                       | tuple UnnamedFieldsInlineRef2
                       | struct NamedFieldsInlineRef2
                       | array (InlineRef2, U16)
                       | list (InlineRef2, Sizing)
                       | set (InlineRef2, Sizing)
                       | map (KeyTy, InlineRef2, Sizing)
data TyKeyTy          :: primitive Primitive
                       | unicode ()
                       | enum:3 EnumVariants
                       | union UnionVariantsKeyTy
                       | tuple UnnamedFieldsKeyTy
                       | struct NamedFieldsKeyTy
                       | array (KeyTy, U16)
                       | list (KeyTy, Sizing)
                       | set (KeyTy, Sizing)
                       | map (KeyTy, KeyTy, Sizing)
data TyLibRef         :: primitive Primitive
                       | unicode ()
                       | enum:3 EnumVariants
                       | union UnionVariantsLibRef
                       | tuple UnnamedFieldsLibRef
                       | struct NamedFieldsLibRef
                       | array (LibRef, U16)
                       | list (LibRef, Sizing)
                       | set (LibRef, Sizing)
                       | map (KeyTy, LibRef, Sizing)
data TySemId          :: primitive Primitive
                       | unicode ()
                       | enum:3 EnumVariants
                       | union UnionVariantsSemId
                       | tuple UnnamedFieldsSemId
                       | struct NamedFieldsSemId
                       | array (SemId, U16)
                       | list (SemId, Sizing)
                       | set (SemId, Sizing)
                       | map (KeyTy, SemId, Sizing)
data TypeLib          :: name LibName
                       , dependencies {Dependency ^ ..0xff}
                       , types {U8 -> ^ 1.. TyLibRef}
data TypeLibId        :: [U8 ^ 32]
data TypeName         :: Ident
data TypeSysId        :: [U8 ^ 32]
data TypeSystem       :: {[Byte ^ 32] -> ^ ..0xffffff TyEmbeddedRef}
data UnionVariantsEmbeddedRef :: {U8 -> ^ ..0xff VariantInfoEmbeddedRef}
data UnionVariantsInlineRef :: {U8 -> ^ ..0xff VariantInfoInlineRef}
data UnionVariantsInlineRef1 :: {U8 -> ^ ..0xff VariantInfoInlineRef1}
data UnionVariantsInlineRef2 :: {U8 -> ^ ..0xff VariantInfoInlineRef2}
data UnionVariantsKeyTy :: {U8 -> ^ ..0xff VariantInfoKeyTy}
data UnionVariantsLibRef :: {U8 -> ^ ..0xff VariantInfoLibRef}
data UnionVariantsSemId :: {U8 -> ^ ..0xff VariantInfoSemId}
data UnnamedFieldsEmbeddedRef :: [EmbeddedRef ^ 1..0xff]
data UnnamedFieldsInlineRef :: [InlineRef ^ 1..0xff]
data UnnamedFieldsInlineRef1 :: [InlineRef1 ^ 1..0xff]
data UnnamedFieldsInlineRef2 :: [InlineRef2 ^ 1..0xff]
data UnnamedFieldsKeyTy :: [KeyTy ^ 1..0xff]
data UnnamedFieldsLibRef :: [LibRef ^ 1..0xff]
data UnnamedFieldsSemId :: [SemId ^ 1..0xff]
data Variant          :: name FieldName, tag U8
data VariantInfoEmbeddedRef :: name FieldName, ty EmbeddedRef
data VariantInfoInlineRef :: name FieldName, ty InlineRef
data VariantInfoInlineRef1 :: name FieldName, ty InlineRef1
data VariantInfoInlineRef2 :: name FieldName, ty InlineRef2
data VariantInfoKeyTy :: name FieldName, ty KeyTy
data VariantInfoLibRef :: name FieldName, ty LibRef
data VariantInfoSemId :: name FieldName, ty SemId

